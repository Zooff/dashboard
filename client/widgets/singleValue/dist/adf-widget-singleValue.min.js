!function(t,e){"use strict";function a(t){t.widget("singleValue",{title:"singleValue",description:"Displays a table of data from a json url",templateUrl:"{widgetsPath}/singleValue/src/view/view.html",controller:"singleValueController",controllerAs:"sv",reload:!0,resolve:{data:["singleValueService","config",function(t,e){return t.get(e)}]},edit:{controller:"singleValueEditController",controllerAs:"sv",templateUrl:"{widgetsPath}/singleValue/src/edit/edit.html"}})}function l(t){this.data=t}function i(t,e,a){function l(){return a.columns||(a.columns=[]),a.columns}this.config=a,t.getAutocompletion=function(t){return e.get("/api/servers/autocomplete",{params:{val:t}}).then(function(t){return t.data})},this.addColumn=function(){l().push({})},this.removeColumn=function(t){l().splice(t,1)}}function n(t,e,a){function l(t){var e=[];return angular.forEach(t.columns,function(t,l){t.path&&e.push({title:t.title,path:a(t.path)})}),e}function i(t,e){var i={principalData:{},additionalData:[]};if(t.root){var n=a(t.root)(e);i.principalData={desc:t.desc,data:n}}var o=l(t);return angular.forEach(o,function(t,a){var l=t.path(e);i.additionalData.push({title:t.title,data:l})}),i}function n(t){return e.get(t.url).then(function(t){return t.data}).then(function(e){return i(t,e)})}function o(t){var e=null;return t.url&&(e=n(t)),e}return{get:o}}angular.module("adf.widget.singleValue",["adf.provider"]).config(a),a.$inject=["dashboardProvider"],angular.module("adf.widget.singleValue").run(["$templateCache",function(t){t.put("{widgetsPath}/singleValue/src/edit/edit.html",'<form role=form><div class=form-group><label for=sample>URL</label> <input type=text class=form-control ng-model=config.url placeholder="Enter url" uib-typeahead="address for address in getAutocompletion($viewValue)" typeahead-loading=load typeahead-no-result=noResults></div><div><label>Principal Data</label></div><div class="form-inline padding-bottom"><div class=form-group><label class=sr-only for=desc>Description</label> <input type=text id=desc class=form-control ng-model=config.desc placeholder="Enter Description of the data"></div><div class=form-group><label class=sr-only for=sample>Principal Data</label> <input type=text class=form-control ng-model=config.root placeholder="Enter name of principal data"></div></div><div><label>Additional Data</label></div><div class="form-inline padding-bottom" ng-repeat="col in sv.config.columns"><div class=form-group><label class=sr-only for=title-{{$index}}>Title</label> <input type=text id=title-{{$index}} class=form-control placeholder=Title ng-model=col.title required></div><div class=form-group><label class=sr-only for=path-{{$index}}>Path</label> <input type=text id=path-{{$index}} class=form-control placeholder=Path ng-model=col.path required></div><button type=button class="btn btn-warning" ng-click=sv.removeColumn($index)><i class="fa fa-minus"></i> Remove</button></div><button type=button class="btn btn-primary" ng-click=sv.addColumn()><i class="fa fa-plus"></i> Add</button></form>'),t.put("{widgetsPath}/singleValue/src/view/view.html",'<div><div ng-hide=sv.data class="alert alert-info" role=alert>Please insert a url to the widget configuration</div><div ng-show=sv.data><div><h1 class=text-center>{{sv.data.principalData.data}}</h1><p class="text-center small">{{sv.data.principalData.desc}}</p></div><ul class="list-inline text-center"><li ng-repeat="addData in sv.data.additionalData">{{addData.title}} : {{addData.data}}</li></ul></div></div>')}]),angular.module("adf.widget.singleValue").controller("singleValueController",l),l.$inject=["data"],angular.module("adf.widget.singleValue").controller("singleValueEditController",i),i.$inject=["$scope","$http","config"],angular.module("adf.widget.singleValue").service("singleValueService",n),n.$inject=["$q","$http","$parse"]}(window);