!function(e,t){"use strict";function a(e){e.widget("checkValue",{title:"checkValue",description:"Graphs with an expert mode to personalize the query",templateUrl:"{widgetsPath}/checkValue/src/view/view.html",controller:"checkValueController",controllerAs:"cv",reload:!0,resolve:{data:["checkValueService","config",function(e,t){return e.get(t)}]},edit:{controller:"checkValueEditController",controllerAs:"cv",templateUrl:"{widgetsPath}/checkValue/src/edit/edit.html"}})}function i(e,t,a,i){if(a){var o=this;this.data=a,this.data.positif=a.data>0,this.data.pourcent&&0==this.data.data&&(this.data.zero=!0),this.open=function(){console.log("ok");t.open({templateUrl:"modal.html",controller:modalInstanceCtrl,resolve:{data:function(){return o.data.array}}})}}}function o(e,t,a,i){this.config=a,e.getAutocompletion=function(e){return t.get("/api/autocomplete",{params:{val:e}}).then(function(e){return e.data})}}function l(e,t,a){function i(e,t){var i=a(t.root)(e),o=!1;switch(t.op){case"eq":o=i==t.test;break;case"dif":o=i!=t.test;break;case"sup":o=i>t.test;break;case"inf":o=i<t.test;break;default:o=!1}return{desc:t.desc,data:i,ok:o,pourcent:t.pourcent,tooltip:t.tooltip}}function o(e){return t.get(e.url).then(function(e){return e.data}).then(function(t){return i(t,e)})}function l(e){var t=null;return e.expert?t=post(e):e.url&&(t=o(e)),t}return{get:l}}angular.module("adf.widget.checkValue",["adf.provider"]).config(a),a.$inject=["dashboardProvider"],angular.module("adf.widget.checkValue").run(["$templateCache",function(e){e.put("{widgetsPath}/checkValue/src/edit/edit.html",'<script type=text/ng-template id=autocomplete.html><a> <span ng-bind-html="match.model.url | uibTypeaheadHighlight:query"></span> | <small ng-bind-html="match.model.desc | uibTypeaheadHighlight:query"></small> </a></script><form role=form><div class=form-group><label for=sample>URL</label> <input type=text class=form-control ng-model=config.url placeholder="Enter url" uib-typeahead="address as address.url for address in getAutocompletion($viewValue)" typeahead-template-url=autocomplete.html typeahead-loading=load typeahead-no-result=noResults></div><div class=form-group><label for=tooltip>Tooltip</label> <input id=tooltip type=text class=form-control ng-model=config.tooltip placeholder=Tooltips></div><div><input type=checkbox ng-model=config.pourcent> <label>Pourcentage ?</label></div><div><label>Principal Data</label></div><div class="form-inline padding-bottom"><div class=form-group><label class=sr-only for=desc>Description</label> <input type=text id=desc class=form-control ng-model=config.desc placeholder="Enter Description of the data"></div><div class=form-group><label class=sr-only for=sample>Principal Data</label> <input type=text class=form-control ng-model=config.root placeholder="Enter name of principal data"></div></div><div><label>Test</label></div><div class="form-inline padding-bottom"><div class=form-group><label class=sr-only for=op>Operation</label><select class=form-group id=op ng-model=config.op required><option value=eq>==</option><option value=sup>></option><option value=inf><</option><option value=dif>!=</option></select></div><div class=form-group><label class=sr-only for=test>Value</label> <input type=text id=test class=form-control placeholder="Test Value" ng-model=config.test required></div></div></form>'),e.put("{widgetsPath}/checkValue/src/view/modal.html","<div class=modal-dialog><div class=modal-content><div class=modal-header><h3 class=modal-title id=modal-title>Title</h3></div><div class=modal-body id=modal-body><ul><li></li></ul></div></div></div>"),e.put("{widgetsPath}/checkValue/src/view/view.html",'<div><div ng-hide=cv.data class="alert alert-info" role=alert>Please insert a url to the widget configuration</div><div ng-show=cv.data><div ng-if=!cv.data.pourcent><div class=text-center><i ng-show=cv.data.ok class="fa fa-check fa-4x text-success" aria-hidden=true></i> <i ng-hide=cv.data.ok class="fa fa-times fa-4x text-danger" aria-hidden=true></i><p>{{cv.data.desc}} : {{cv.data.data}}</p></div></div><div ng-if=cv.data.pourcent ng-click=cv.open()><div class=text-center><div ng-if=!cv.data.zero><i ng-if="cv.data.ok && cv.data.positif" class="fa fa-caret-up fa-5x text-success" aria-hidden=true></i> <i ng-if="!cv.data.ok && !cv.data.positif" class="fa fa-caret-down fa-5x text-danger" aria-hidden=true></i> <i ng-if="!cv.data.ok && cv.data.positif" class="fa fa-caret-up fa-5x text-danger" aria-hidden=true></i> <i ng-if="cv.data.ok && !cv.data.positif" class="fa fa-caret-down fa-5x text-success" aria-hidden=true></i></div><i ng-if=cv.data.zero class="fa fa-caret-right fa-5x text-warning" aria-hidden=true></i><p uib-tooltip={{cv.data.tooltip}} tooltip-placement=bottom>{{cv.data.desc}} : <span ng-show="!cv.data.zero && cv.data.ok" class=text-success>{{cv.data.data}} %</span> <span ng-show="!cv.data.zero && !cv.data.ok" class=text-danger>{{cv.data.data}} %</span> <span ng-show=cv.data.zero class=text-warning>{{cv.data.data}} %</span></p></div></div></div></div>')}]),angular.module("adf.widget.checkValue").controller("checkValueController",i),i.$inject=["$scope","$uibModal","data","checkValueService"],angular.module("adf.widget.checkValue").controller("checkValueEditController",o),o.$inject=["$scope","$http","config","checkValueService"],angular.module("adf.widget.checkValue").service("checkValueService",l),l.$inject=["$q","$http","$parse"]}(window);